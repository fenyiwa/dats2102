<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.340">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Aba Pobee">

<title>Graphing Relationships</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="Pobee_Graphing_Relationships_files/libs/clipboard/clipboard.min.js"></script>
<script src="Pobee_Graphing_Relationships_files/libs/quarto-html/quarto.js"></script>
<script src="Pobee_Graphing_Relationships_files/libs/quarto-html/popper.min.js"></script>
<script src="Pobee_Graphing_Relationships_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Pobee_Graphing_Relationships_files/libs/quarto-html/anchor.min.js"></script>
<link href="Pobee_Graphing_Relationships_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Pobee_Graphing_Relationships_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Pobee_Graphing_Relationships_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Pobee_Graphing_Relationships_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Pobee_Graphing_Relationships_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

<script src="Pobee_Graphing_Relationships_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="Pobee_Graphing_Relationships_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="Pobee_Graphing_Relationships_files/libs/datatables-binding-0.33/datatables.js"></script>
<script src="Pobee_Graphing_Relationships_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="Pobee_Graphing_Relationships_files/libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="Pobee_Graphing_Relationships_files/libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="Pobee_Graphing_Relationships_files/libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="Pobee_Graphing_Relationships_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="Pobee_Graphing_Relationships_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Graphing Relationships</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Aba Pobee </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="importing-manipulating-data-trump-statistics-creating-tables" class="level2">
<h2 class="anchored" data-anchor-id="importing-manipulating-data-trump-statistics-creating-tables">1. Importing &amp; Manipulating Data, Trump Statistics, Creating Tables</h2>
<p><strong>The dataset has been pivoted to long format with the year and proportion of votes added as columns.</strong></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  state   abbrev party_year    vote_count party    year total_votes vote_percent
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   &lt;int&gt;       &lt;dbl&gt;        &lt;dbl&gt;
1 Alabama AL     obamavote08       813479 Democr…     8     2080025         39.1
2 Alabama AL     mccainvote08     1266546 Republ…     8     2080025         60.9
3 Alabama AL     obamavote12       795696 Democr…    12     2051621         38.8
4 Alabama AL     romneyvote12     1255925 Republ…    12     2051621         61.2
5 Alabama AL     clintonvote16     729547 Democr…    16     2047802         35.6
6 Alabama AL     trumpvote16      1318255 Republ…    16     2047802         64.4</code></pre>
</div>
</div>
<p><strong>While Trump’s average vote share declined in 2020 and rebounded in 2024, the consistent level of variation across all three elections reflects ongoing and stable polarization in state-level support.</strong></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
   year Mean_Percent SD_Percent
  &lt;int&gt;        &lt;dbl&gt;      &lt;dbl&gt;
1    16         52.0       12.8
2    20         50.3       12.3
3    24         52.5       12.1</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item" id="htmlwidget-1e7fc861814314823841" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-1e7fc861814314823841">{"x":{"filter":"none","vertical":false,"caption":"<caption>Republican Vote Proportions by State (2008–2024)<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51"],["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","District of Columbia","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],[60.89090275357268,61.06478491659711,54.31390071961633,60.17172061071726,37.72155040841459,45.44919234191635,38.68166175024582,37.36186135011144,6.599231666584336,48.58033996910071,52.62833551081179,27.00627412154459,63.02458980502055,37.26573595544064,49.47804655462191,45.15122221053265,57.61227581890944,58.23342758770461,59.45717416158537,41.1704750165924,37.06991270711447,36.80292178664705,41.62869842384548,44.77062500460726,56.64193099286384,50.06757914967665,51.16940328394073,57.60907442216564,43.6132618748039,45.13145887989049,42.13537012857605,42.33509998120241,36.42331889687308,49.83403669993269,54.40865628196813,47.66615923774587,65.64508112269351,41.58627882277282,44.77029618451555,35.80186249085423,54.54442918920913,54.29570723411538,57.63147180235446,55.93593675094072,64.52636137274007,31.1008182606619,46.81741559387245,41.24797319789105,56.67374376713725,42.94432175218159,66.56202335509592],[61.21622853343771,57.31529048156037,54.61338022370319,62.15440535122961,38.12718883670338,47.24989314399086,41.2274225230929,40.55304508072184,7.412350797882484,49.55774786063377,53.95664909805672,28.29615149892558,66.42138684357533,41.42247660788309,55.2003745973273,47.04064807189982,61.11332674525305,61.54277239380491,58.74682561411397,42.14007860642289,36.67827421309402,38.21431925093999,45.19946792882212,46.05877353830181,55.80189919878777,54.77866675337997,57.03423186388146,61.12939026822536,46.59245783665347,47.16624802174189,41.04803444941423,44.70479535309131,35.72407296333076,51.034034903005,60.11120828891173,48.48594323075051,66.77231974301657,43.72883282125262,47.26806599810817,35.98325402111788,55.30825470456537,59.21849913819525,60.35107152629404,58.00789721510638,74.62618889514748,31.75274117360937,48.03262331123552,42.37170172937815,63.67429763204273,46.53657001712759,71.16063401152142],[64.37414359396074,58.38565471106807,51.89002340103946,64.28513768977047,33.87178920418087,47.31666662731757,42.85845248273636,44.00137855631878,4.304811658145916,50.61883547277548,52.66117259930322,32.55866254946454,68.31017668080558,40.97994860928852,60.11730952450807,55.06354784512034,61.11147034260667,65.67062901750987,60.1716772378078,48.40320887083747,35.98375031523061,35.34872131037051,50.11766821696155,49.17145939309349,59.08984732406006,59.81856099556606,61.10966431702444,63.54767411317756,48.7062905800148,49.80297155761929,42.71580985709871,45.34920506567589,38.22765815145114,51.90374580371871,69.80924289651973,54.26764148285397,69.30473723832813,43.84416105494564,50.37553580749017,41.68929590734018,57.46025636052402,65.97185807943126,63.62434304526199,54.71322557797199,62.38365820849079,34.81357367617963,47.1736237228453,41.21306879993523,72.16105225129577,50.40798903802971,75.70531962915379],[62.91137483335473,55.26184872384932,49.84316832087068,64.21243327798315,35.09062865988785,43.06168050769985,39.82485794552992,40.37325583501553,5.533046152380555,51.69475466214156,49.88067033709135,34.96733535348512,65.87714292507786,41.34095626719308,58.19819637963837,54.18326308463705,57.49342825563135,63.20010290026297,59.46444045629104,45.33186235458797,32.97095295290766,32.88445045985185,48.58650923585267,46.36048635143333,58.38498582738886,57.83582064440145,58.3971800920481,59.78405224660172,48.77688265995619,46.25112415048375,41.92861387181238,44.48150984828026,38.27282310466085,50.68420065378582,67.21740842289663,54.07669764770272,66.94003949690651,41.69284301455826,49.39939557994443,39.40064011604074,55.92660874958209,63.4347798616815,61.82777037206635,52.83072123677953,60.69360512185163,31.70081344719344,44.84531300060009,40.07449681520931,69.79853231392202,49.68093673346601,72.48043437558511],[65.44061192969394,56.84656254237497,52.79415896086669,65.66999323614837,39.59985742820166,44.35345826893354,42.62176751374083,42.52076435850184,6.685254439971959,56.6110694334923,51.10436615139814,38.2196741693885,68.76092059012655,44.43223459172829,59.65245583314551,56.72279885479811,58.20573694727516,65.51407101610208,61.17851040941594,46.45569418002554,35.24524297281908,37.04468057958074,50.72123682891697,47.82829782390552,61.57251410559185,59.33736031308159,60.28904852008186,60.4203416519489,51.57950895425851,48.58939252663662,46.98612628338324,46.92909388567635,43.65525694143053,51.6303401013004,68.69649306639319,55.65661471363703,67.47004190617081,42.56694196511241,50.86319234606358,42.91879686605466,59.06168261351907,64.94509953692653,65.06054982749667,56.93903390080924,61.1053496166993,33.6147821141599,47.04896065734342,40.53522426029424,71.34389228002379,50.43669439117252,73.47917302410741]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>State<\/th>\n      <th>2008<\/th>\n      <th>2012<\/th>\n      <th>2016<\/th>\n      <th>2020<\/th>\n      <th>2024<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"state","targets":1},{"name":"Year_8","targets":2},{"name":"Year_12","targets":3},{"name":"Year_16","targets":4},{"name":"Year_20","targets":5},{"name":"Year_24","targets":6}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="scatterplot-creation" class="level2">
<h2 class="anchored" data-anchor-id="scatterplot-creation">2. Scatterplot Creation</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="Pobee_Graphing_Relationships_files/figure-html/scatterplot-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>The scatterplot visualizes Trump’s state-level vote share (%) in 2020 (x-axis) compared to 2024 (y-axis).The overall pattern shows that many states cluster around the 45° line, suggesting minimal change in vote share. However, a few states deviate significantly– some swing above the line (vote gains), while others fall below (vote losses). For instance, states like Florida and Texas hover near or above the line, while places like Vermont, California, or Washington D.C. remain well below it, showing consistent low support.</strong></p>
<p><strong>The dashed 45° reference line serves as a benchmark of no change: any state on this line gave Trump the same proportion of votes in 2024 as in 2020.</strong></p>
<p><strong>Labeling all 50 states creates overlap and visual clutter, especially in dense regions where many states have similar values.</strong></p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Pobee_Graphing_Relationships_files/figure-html/labeling%20some%20states-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Altering the graph to only show specific labels surely makes a difference in the plot– I picked DC to represent the district as an outlier, West Virginia since it has one of the highest proportions of Trump voters for both years, and states like Georgia, Arizona, Pennsylvania, and Florida since they’re notable swing states.</strong></p>
<p><strong>The District of Columbia stands out from the rest of the data– all other states have Republican voting proportions between 20 and 80 percent, whereas DC stands alone with around 5 percent… interesting, because DC is the heart of the nation!</strong></p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Pobee_Graphing_Relationships_files/figure-html/removing%20DC-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Removing DC from the graph makes it a little easier to identify other states in the graph and how much they varied from the 45 degree line.</strong></p>
</section>
<section id="line-graphs" class="level2">
<h2 class="anchored" data-anchor-id="line-graphs">3. Line Graphs</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="Pobee_Graphing_Relationships_files/figure-html/line%20graph-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Pobee_Graphing_Relationships_files/figure-html/interesting%20states-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Across the 50 states, Republican vote share shows considerable variation, but some broad patterns emerge:</strong></p>
<ul>
<li><p><strong>Many states show stability or slight increases in Republican support, especially after 2016.</strong></p></li>
<li><p><strong>The middle band of states—those with vote shares between 45% and 60%—tend to move incrementally rather than sharply.</strong></p></li>
<li><p><strong>A handful of states show distinct trends, such as steady gains or losses, or sharp fluctuations (e.g., Utah in 2016).</strong></p></li>
</ul>
<p><strong>This suggests that while some state-level realignments are occurring, much of the country remains relatively politically consistent, reinforcing long-standing partisan divides.</strong></p>
<p><strong>Utah stands out as a clear outlier, with a dip in 2016 followed by a rebound. This makes it one of the most visually dynamic lines in the plot. Texas and Florida show gradual increases in Republican support over time. Georgia, Arizona, and Wisconsin hover near the 50% line, reflecting their battleground status and shifting partisan balance. California continues to show very low Republican vote share, reinforcing its position as a Democratic stronghold.</strong></p>
<p><strong>Color is used intentionally to emphasize a diverse set of states that each represent a distinct electoral narrative:</strong></p>
<ul>
<li><p><strong>Utah (red): Highlights a unique trajectory with sharp swings and recovery, reflecting ideological nuances within the Republican base.</strong></p></li>
<li><p><strong>Florida &amp; Texas (blue &amp; green): Represent growing Republican strength in large, diverse states.</strong></p></li>
<li><p><strong>Georgia, Arizona, Wisconsin (purple, orange, brown): All are swing states that have shifted party allegiance in recent elections, making them crucial to understanding national electoral dynamics.</strong></p></li>
<li><p><strong>California (pink): Serves as a contrast case—one of the least supportive states for Republican candidates, moving even lower over time.</strong></p></li>
</ul>
<p><strong>This combination of states allows the plot to tell a story of divergence. The use of muted gray for all other states ensures that the focus remains on these key trajectories.</strong></p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Pobee_Graphing_Relationships_files/figure-html/census%20regions-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Each region has a unique color, improving clarity within the facets. Facets separate regions, so overlapping lines are more readable. Now, one can easily compare regional trends and intra-regional consistency.</strong></p>
</section>
<section id="thematic-map" class="level2">
<h2 class="anchored" data-anchor-id="thematic-map">4. Thematic Map</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="Pobee_Graphing_Relationships_files/figure-html/thematic%20map-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>The map shows how Trump’s support changed from 2020 to 2024 across different states. States in red are where he gained more support in 2024 compared to 2020. You can easily see that he did better in many Southern states, like Florida, Georgia, and Texas, and also in some parts of the West and Northeast, like California and New York.</strong></p>
<p><strong>Compared to the earlier scatterplot, this map makes it much easier to spot patterns across regions. Instead of just numbers, it shows you where things changed on the map. You can quickly tell which parts of the country are becoming more supportive of Trump, and which areas stayed the same.</strong></p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>